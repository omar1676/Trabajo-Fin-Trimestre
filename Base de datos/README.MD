ğŸ® README â€” Base de Datos TimeMachine

Bienvenido al documento oficial del proyecto TimeMachine, una base de datos diseÃ±ada para gestionar informaciÃ³n relacionada con videojuegos, jugadores, partidas, plataformas, inventario y merchandising.

Este README explica:
1ï¸âƒ£ La base de datos
2ï¸âƒ£ Su schema/tablas
3ï¸âƒ£ Las consultas SQL incluidas

ğŸ—„ï¸ 1) Base de Datos

Nombre: timemachine
Charset: utf8mb4
Collation: utf8mb4_0900_ai_ci
Motor principal: InnoDB âš™ï¸

ğŸ“Œ CreaciÃ³n de la base de datos
    CREATE DATABASE IF NOT EXISTS `timemachine`
    /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */
    /*!80016 DEFAULT ENCRYPTION='N' */;
    USE `timemachine`;

ğŸ“¥ Para importar el dump
    mysql -u usuario -p < dump.sql
Incluye configuraciones de MySQL para desactivar restricciones temporalmente, acelerar la carga y asegurar integridad.

ğŸ§© 2) Esquema de la Base de Datos (Tablas y Relaciones)

A continuaciÃ³n, se describen todas las tablas del proyecto con sus claves, columnas e Ã­ndices.
âœ¨ Incluye observaciones para mejorar el diseÃ±o.

ğŸ¢ desarrollador

ğŸ”‘ Llave primaria: id_desarrollador
ğŸ“Œ Campos destacados:

nombre_empresa (Ãºnico) ğŸ­

juego y id_juego â†’ âš ï¸ datos redundantes

ğŸ® videojuegos

ğŸ”— Relacionado con desarrollador vÃ­a id_desarrollador

ğŸ“Œ Campos:

titulo

genero

precio ğŸ’²

lanzamiento ğŸ“…

id_desarrollador (FK)

ğŸ‘¤ jugador

ğŸ“Œ Datos del jugador:

jugador_nombre

nickname (Ãºnico) ğŸ­

email

pais ğŸŒ

fecha_nacimiento

edad (âš ï¸ redundante con la fecha)

ğŸ“ ObservaciÃ³n:

jugador_id_invitado no tiene FK definida â†’ se recomienda revisar su propÃ³sito.

ğŸ•¹ï¸ partidas

Relaciona jugadores y videojuegos â–¶ï¸

ğŸ“Œ Campos:

id_jugador (FK)

id_juego (âš ï¸ no tiene FK en el dump, recomendable aÃ±adirla)

horas_juego

fecha_partida

ğŸ§± inventario

Objetos del juego:

id_juego (sin FK declarada)

objeto

ğŸ”§ Tiene Ã­ndices duplicados (juego_id_idx / gameid_idx)

ğŸ›ï¸ merchandising

ArtÃ­culos promocionales del juego:

tipo (Ãºnico) ğŸ›’

precio

id_juego

ğŸ–¥ï¸ plataformas

Plataformas donde estÃ¡ disponible un juego:

tipo_plataforma (Switch, PC, PS5â€¦)

id_juego

ğŸ”§ Falta FK hacia videojuegos

ğŸ§  3) Consultas SQL Incluidas

AquÃ­ estÃ¡n TODAS las consultas del proyecto, cada una con una breve descripciÃ³n.
ğŸ“Œ Mantengo tu orden original.

1ï¸âƒ£ Jugadores y sus partidas ğŸ®ğŸ‘¤
    SELECT j.nickname, v.titulo, p.horas_juego
    FROM partidas p
    JOIN jugador j ON p.id_jugador = j.id_jugador
    JOIN videojuegos v ON p.id_juego = v.id_juego;

2ï¸âƒ£ Merchandising y su juego asociado ğŸ›ï¸ğŸ®
    SELECT m.tipo, m.precio, v.titulo
    FROM merchandising m
    JOIN videojuegos v ON m.id_juego = v.id_juego;

3ï¸âƒ£ Plataformas y juegos ğŸ–¥ï¸ğŸ®
    SELECT p.tipo_plataforma, v.titulo
    FROM plataformas p
    JOIN videojuegos v ON p.id_juego = v.id_juego;

4ï¸âƒ£Juegos y sus desarrolladores ğŸ­ğŸ®
    SELECT v.titulo, d.nombre_empresa
    FROM videojuegos v
    JOIN desarrollador d ON v.id_desarrollador = d.id_desarrollador;

5ï¸âƒ£ Partidas + Jugador + Desarrollador ğŸ§ 
    SELECT j.nickname, v.titulo, d.nombre_empresa, p.horas_juego
    FROM partidas p
    JOIN jugador j ON p.id_jugador = j.id_jugador
    JOIN videojuegos v ON p.id_juego = v.id_juego
    JOIN desarrollador d ON v.id_desarrollador = d.id_desarrollador;

6ï¸âƒ£ Jugadores invitados ğŸŸï¸
    SELECT j.nickname AS anfitrion, COUNT(j.jugador_id_invitado) AS invitado
    FROM jugador j
    GROUP BY anfitrion
    HAVING invitado = 1;

7ï¸âƒ£ Juegos + Plataformas + Merchandising ğŸ’½ğŸ–¥ï¸ğŸ›ï¸
    SELECT v.titulo, p.tipo_plataforma, m.tipo AS merchandising
    FROM videojuegos v
    LEFT JOIN plataformas p ON v.id_juego = p.id_juego
    LEFT JOIN merchandising m ON v.id_juego = m.id_juego;

8ï¸âƒ£ Total de horas jugadas por juego â±ï¸
    SELECT v.titulo, SUM(p.horas_juego) AS total_horas
    FROM partidas p
    JOIN videojuegos v ON p.id_juego = v.id_juego
    GROUP BY v.id_juego;

9ï¸âƒ£ NÃºmero de jugadores por paÃ­s ğŸŒ
    SELECT pais, COUNT(*) AS numero_jugadores
    FROM jugador
    GROUP BY pais;

ğŸ”Ÿ Jugadores con mÃ¡s horas que la media â³ğŸ“ˆ
    SELECT nickname, total_horas
    FROM (
        SELECT j.nickname, SUM(p.horas_juego) AS total_horas
        FROM partidas p
        JOIN jugador j ON p.id_jugador = j.id_jugador
        GROUP BY j.id_jugador
    ) AS tabla
    WHERE total_horas > (
        SELECT AVG(horas_juego) FROM partidas
    );

1ï¸âƒ£1ï¸âƒ£ Juegos cuyo precio coincide con la media ğŸ’²âš–ï¸
    SELECT titulo, precio
    FROM videojuegos
    WHERE precio = (
        SELECT AVG(precio) FROM videojuegos
    );


ğŸ“Œ Si buscas mÃ¡s caros que la media, deberÃ­a ser >.

1ï¸âƒ£2ï¸âƒ£ Jugadores del juego con mÃ¡s horas ğŸ”
    SELECT j.nickname, p.horas_juego
    FROM partidas p
    JOIN jugador j ON p.id_jugador = j.id_jugador
    WHERE p.horas_juego = (
        SELECT MAX(horas_juego) FROM partidas
    );

1ï¸âƒ£3ï¸âƒ£ Jugadores que superan el promedio por juego â­
    SELECT j.nickname, j.pais, p.horas_juego, v.titulo
    FROM partidas p
    JOIN jugador j ON p.id_jugador = j.id_jugador
    JOIN videojuegos v ON p.id_juego = v.id_juego
    WHERE p.horas_juego > (
            SELECT AVG(p2.horas_juego)
            FROM partidas p2
            WHERE p2.id_juego = p.id_juego
        )
    ORDER BY v.titulo, p.horas_juego DESC;
